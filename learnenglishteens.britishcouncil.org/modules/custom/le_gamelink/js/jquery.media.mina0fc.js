(function(c){var d=document.documentMode||0;var g=/MSIE/.test(navigator.userAgent);var j=g&&(/MSIE (6|7|8)\.0/.test(navigator.userAgent)||d<9);c.fn.media=function(o,n,p){if(o=="undo"){return this.each(function(){var r=c(this);var q=r.data("media.origHTML");if(q){r.replaceWith(q)}})}return this.each(function(){if(typeof o=="function"){p=n;n=o;o={}}var y=i(this,o);if(typeof n=="function"){n(this,y)}var w=k();var q=w.exec(y.src.toLowerCase())||[""];y.type?q[0]=y.type:q.shift();for(var v=0;v<q.length;v++){fn=q[v].toLowerCase();if(f(fn[0])){fn="fn"+fn}if(!c.fn.media[fn]){continue}var u=c.fn.media[fn+"_player"];if(!y.params){y.params={}}if(u){var t=u.autoplayAttr=="autostart";y.params[u.autoplayAttr||"autoplay"]=t?(y.autoplay?1:0):y.autoplay?true:false}var s=c.fn.media[fn](this,y);s.css("backgroundColor",y.bgColor).width(y.width);if(y.canUndo){var x=c("<div></div>").append(this);s.data("media.origHTML",x.html())}if(typeof p=="function"){p(this,s[0],y,u.name)}break}})};c.fn.media.mapFormat=function(o,n){if(!o||!n||!c.fn.media.defaults.players[n]){return}o=o.toLowerCase();if(f(o[0])){o="fn"+o}c.fn.media[o]=c.fn.media[n];c.fn.media[o+"_player"]=c.fn.media.defaults.players[n]};c.fn.media.defaults={standards:true,canUndo:true,width:400,height:400,autoplay:0,bgColor:"#ffffff",params:{wmode:"transparent"},attrs:{},flvKeyName:"file",flashvars:{},flashVersion:"7",expressInstaller:null,flvPlayer:"mediaplayer.swf",mp3Player:"mediaplayer.swf",silverlight:{inplaceInstallPrompt:"true",isWindowless:"true",framerate:"24",version:"0.9",onError:null,onLoad:null,initParams:null,userContext:null}};c.fn.media.defaults.players={flash:{name:"flash",title:"Flash",types:"flv,mp3,swf",mimetype:"application/x-shockwave-flash",pluginspage:"http://www.adobe.com/go/getflashplayer",ieAttrs:{classid:"clsid:d27cdb6e-ae6d-11cf-96b8-444553540000",type:"application/x-oleobject",codebase:"http://fpdownload.macromedia.com/pub/shockwave/cabs/flash/swflash.cab#version="+c.fn.media.defaults.flashVersion}},quicktime:{name:"quicktime",title:"QuickTime",mimetype:"video/quicktime",pluginspage:"http://www.apple.com/quicktime/download/",types:"aif,aiff,aac,au,bmp,gsm,mov,mid,midi,mpg,mpeg,mp4,m4a,psd,qt,qtif,qif,qti,snd,tif,tiff,wav,3g2,3gp",ieAttrs:{classid:"clsid:02BF25D5-8C17-4B23-BC80-D3488ABDDC6B",codebase:"http://www.apple.com/qtactivex/qtplugin.cab"}},realplayer:{name:"real",title:"RealPlayer",types:"ra,ram,rm,rpm,rv,smi,smil",mimetype:"audio/x-pn-realaudio-plugin",pluginspage:"http://www.real.com/player/",autoplayAttr:"autostart",ieAttrs:{classid:"clsid:CFCDAA03-8BE4-11cf-B84B-0020AFBBCCFA"}},winmedia:{name:"winmedia",title:"Windows Media",types:"asx,asf,avi,wma,wmv",mimetype:m()?"application/x-ms-wmp":"application/x-mplayer2",pluginspage:"http://www.microsoft.com/Windows/MediaPlayer/",autoplayAttr:"autostart",oUrl:"url",ieAttrs:{classid:"clsid:6BF52A52-394A-11d3-B153-00C04F79FAA6",type:"application/x-oleobject"}},img:{name:"img",title:"Image",types:"gif,png,jpg"},iframe:{name:"iframe",types:"html,pdf"},silverlight:{name:"silverlight",types:"xaml"}};function m(){var n=navigator.plugins||[];for(var o=0;o<n.length;o++){var p=n[o];if(p.filename=="np-mswmp.dll"){return true}}return false}var a=1;for(var l in c.fn.media.defaults.players){var e=c.fn.media.defaults.players[l].types;c.each(e.split(","),function(n,p){if(f(p[0])){p="fn"+p}c.fn.media[p]=c.fn.media[l]=b(l);c.fn.media[p+"_player"]=c.fn.media.defaults.players[l]})}function k(){var o="";for(var n in c.fn.media.defaults.players){if(o.length){o+=","}o+=c.fn.media.defaults.players[n].types}return new RegExp("\\.("+o.replace(/,/ig,"|")+")\\b")}function b(n){return function(p,o){return h(p,o,n)}}function f(n){return"0123456789".indexOf(n)>-1}function i(r,F){F=F||{};var E=c(r);var D=r.className||"";var C=c.metadata?E.metadata():c.meta?E.data():{};C=C||{};var B=C.width||parseInt(((D.match(/\bw:(\d+)/)||[])[1]||0))||parseInt(((D.match(/\bwidth:(\d+)/)||[])[1]||0));var v=C.height||parseInt(((D.match(/\bh:(\d+)/)||[])[1]||0))||parseInt(((D.match(/\bheight:(\d+)/)||[])[1]||0));if(B){C.width=B}if(v){C.height=v}if(D){C.cls=D}var s="data-";for(var u=0;u<r.attributes.length;u++){var A=r.attributes[u],t=c.trim(A.name);var x=t.indexOf(s);if(x===0){t=t.substring(s.length);C[t]=A.value}}var A=c.fn.media.defaults;var z=F;var y=C;var q={params:{bgColor:F.bgColor||c.fn.media.defaults.bgColor}};var o=c.extend({},A,z,y);c.each(["attrs","params","flashvars","silverlight"],function(n,p){o[p]=c.extend({},q[p]||{},A[p]||{},z[p]||{},y[p]||{})});if(typeof o.caption=="undefined"){o.caption=E.text()}o.src=o.src||E.attr("href")||E.attr("src")||"unknown";return o}c.fn.media.swf=function(s,n){if(!window.SWFObject&&!window.swfobject){if(n.flashvars){var v=[];for(var t in n.flashvars){v.push(t+"="+n.flashvars[t])}if(!n.params){n.params={}}n.params.flashvars=v.join("&")}return h(s,n,"flash")}var q=s.id?(' id="'+s.id+'"'):"";var w=n.cls?(' class="'+n.cls+'"'):"";var u=c("<div"+q+w+">");if(window.swfobject){c(s).after(u).appendTo(u);if(!s.id){s.id="movie_player_"+a++}swfobject.embedSWF(n.src,s.id,n.width,n.height,n.flashVersion,n.expressInstaller,n.flashvars,n.params,n.attrs)}else{c(s).after(u).remove();var r=new SWFObject(n.src,"movie_player_"+a++,n.width,n.height,n.flashVersion,n.bgColor);if(n.expressInstaller){r.useExpressInstall(n.expressInstaller)}for(var o in n.params){if(o!="bgColor"){r.addParam(o,n.params[o])}}for(var t in n.flashvars){r.addVariable(t,n.flashvars[t])}r.write(u[0])}if(n.caption){c("<div>").appendTo(u).html(n.caption)}return u};c.fn.media.flv=c.fn.media.mp3=function(q,r){var s=r.src;var p=/\.mp3\b/i.test(s)?r.mp3Player:r.flvPlayer;var o=r.flvKeyName;s=encodeURIComponent(s);r.src=p;r.src=r.src+"?"+o+"="+(s);var n={};n[o]=s;r.flashvars=c.extend({},n,r.flashvars);return c.fn.media.swf(q,r)};c.fn.media.xaml=function(t,u){if(!window.Sys||!window.Sys.Silverlight){if(c.fn.media.xaml.warning){return}c.fn.media.xaml.warning=1;alert("You must include the Silverlight.js script.");return}var s={width:u.width,height:u.height,background:u.bgColor,inplaceInstallPrompt:u.silverlight.inplaceInstallPrompt,isWindowless:u.silverlight.isWindowless,framerate:u.silverlight.framerate,version:u.silverlight.version};var q={onError:u.silverlight.onError,onLoad:u.silverlight.onLoad};var r=t.id?(' id="'+t.id+'"'):"";var p=u.id||"AG"+a++;var o=u.cls?(' class="'+u.cls+'"'):"";var n=c("<div"+r+o+">");c(t).after(n).remove();Sys.Silverlight.createObjectEx({source:u.src,initParams:u.silverlight.initParams,userContext:u.silverlight.userContext,id:p,parentElement:n[0],properties:s,events:q});if(u.caption){c("<div>").appendTo(n).html(u.caption)}return n};function h(t,n,y){var C=c(t);var s=c.fn.media.defaults.players[y];if(y=="iframe"){s=c('<iframe width="'+n.width+'" height="'+n.height+'" >');s.attr("src",n.src);s.css("backgroundColor",s.bgColor)}else{if(y=="img"){s=c("<img>");s.attr("src",n.src);n.width&&s.attr("width",n.width);n.height&&s.attr("height",n.height);s.css("backgroundColor",s.bgColor)}else{if(j){var x=['<object width="'+n.width+'" height="'+n.height+'" '];for(var z in n.attrs){x.push(z+'="'+n.attrs[z]+'" ')}for(var z in s.ieAttrs||{}){var A=s.ieAttrs[z];if(z=="codebase"&&window.location.protocol=="https:"){A=A.replace("http","https")}x.push(z+'="'+A+'" ')}x.push("></object>");var r=['<param name="'+(s.oUrl||"src")+'" value="'+n.src+'">'];for(var z in n.params){r.push('<param name="'+z+'" value="'+n.params[z]+'">')}var s=document.createElement(x.join(""));for(var u=0;u<r.length;u++){s.appendChild(document.createElement(r[u]))}}else{if(n.standards){var x=['<object type="'+s.mimetype+'" width="'+n.width+'" height="'+n.height+'"'];if(n.src){x.push(' data="'+n.src+'" ')}if(g){for(var z in s.ieAttrs||{}){var A=s.ieAttrs[z];if(z=="codebase"&&window.location.protocol=="https:"){A=A.replace("http","https")}x.push(z+'="'+A+'" ')}}x.push(">");x.push('<param name="'+(s.oUrl||"src")+'" value="'+n.src+'">');for(var z in n.params){if(z=="wmode"&&y!="flash"){continue}x.push('<param name="'+z+'" value="'+n.params[z]+'">')}x.push("<div><p><strong>"+s.title+" Required</strong></p><p>"+s.title+' is required to view this media. <a href="'+s.pluginspage+'">Download Here</a>.</p></div>');x.push("</object>")}else{var x=['<embed width="'+n.width+'" height="'+n.height+'" style="display:block"'];if(n.src){x.push(' src="'+n.src+'" ')}for(var z in n.attrs){x.push(z+'="'+n.attrs[z]+'" ')}for(var z in s.eAttrs||{}){x.push(z+'="'+s.eAttrs[z]+'" ')}for(var z in n.params){if(z=="wmode"&&y!="flash"){continue}x.push(z+'="'+n.params[z]+'" ')}x.push("></embed>")}}}}var q=t.id?(' id="'+t.id+'"'):"";var B=n.cls?(' class="'+n.cls+'"'):"";var w=c("<div"+q+B+">");C.after(w).remove();(j||y=="iframe"||y=="img")?w.append(s):w.html(x.join(""));if(n.caption){c("<div>").appendTo(w).html(n.caption)}return w}})(jQuery);